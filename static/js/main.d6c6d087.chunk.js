(this["webpackJsonpreact-web"]=this["webpackJsonpreact-web"]||[]).push([[0],{163:function(e,t,a){e.exports=a(270)},168:function(e,t,a){},169:function(e,t,a){},270:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),i=a.n(r),c=(a(168),a(7)),l=a(16),s=a(24),u=(a(169),a(308)),p=a(319),m=a(320),d=a(310),f=a(312),g=a(274),b=a(149),h=a(272),v=a(313),E=a(335),y=a(133),S=a.n(y),x=a(37),k=Object(u.a)((function(e){return{root:{display:"flex"},accountButton:{color:"inherit"},popperStyle:{zIndex:"1400"}}}));function O(e){var t=k(),a=o.a.useState(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],l=o.a.useRef(null),s=(new x.a,function(e){l.current&&l.current.contains(e.target)||i(!1)}),u=function(t){e.setUserData({userId:null,userName:null,userEmail:null});var a=new x.a;a.remove("userId",{path:"/"}),a.remove("userName",{path:"/"}),a.remove("userEmail",{path:"/"}),s(t),window.location.reload(!1)};function p(e){"Tab"===e.key&&(e.preventDefault(),i(!1))}var m=o.a.useRef(r);return o.a.useEffect((function(){!0===m.current&&!1===r&&l.current.focus(),m.current=r}),[r]),o.a.createElement("div",{className:t.root},o.a.createElement("div",null,o.a.createElement(d.a,{startIcon:o.a.createElement(S.a,null),ref:l,"aria-controls":r?"menu-list-grow":void 0,"aria-haspopup":"true",className:t.accountButton,onClick:function(){i((function(e){return!e}))}},void 0==e.userData.userName?"Account":e.userData.userName),o.a.createElement(h.a,{className:t.popperStyle,open:r,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return o.a.createElement(g.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),o.a.createElement(b.a,null,o.a.createElement(f.a,{onClickAway:s},o.a.createElement(E.a,{autoFocusItem:r,id:"menu-list-grow",onKeyDown:p},o.a.createElement(v.a,{onClick:s},"Profile"),o.a.createElement(v.a,{onClick:u},"Logout")))))}))))}var j=a(14),C=a.n(j),N=a(21),w=a(329),D=a(336),P=a(318),B=a(317),I=a(316),T=a(315),A=a(314),F=a(56),M="http://127.0.0.1:5000",R=Object(u.a)((function(e){return{dialogLeftButton:{marginRight:"auto"},dialogInputBox:{margin:e.spacing(0,0,2)},dialogActions:{display:"flex",margin:e.spacing(0,2,2)},errorMessage:{color:"#f44336",margin:e.spacing(0,2,0)},circleProgress:{zIndex:999,position:"absolute",top:"50%",left:"50%",marginTop:"-24px",marginLeft:"-24px"}}}));function L(e){var t=R(),a=o.a.useState(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],l=o.a.useState(!1),s=Object(c.a)(l,2),u=(s[0],s[1],o.a.useState(!1)),p=Object(c.a)(u,2),m=p[0],f=p[1],g=o.a.useState(!1),b=Object(c.a)(g,2),h=b[0],v=b[1],E=o.a.useState(""),y=Object(c.a)(E,2),S=y[0],k=y[1],O=o.a.useState(""),j=Object(c.a)(O,2),L=j[0],W=j[1],H=o.a.useState(""),J=Object(c.a)(H,2),z=J[0],U=J[1],_=o.a.useRef(),G=o.a.useRef(),K=function(){_.current.value.length<1?(console.log("Email is empty"),f(!0),k("Email cannot be empty")):(f(!1),k(""))},Y=function(){G.current.value.length<1?(console.log("Password is empty"),v(!0),W("Password cannot be empty")):(v(!1),W(""))},Z=function(){var t=Object(N.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openSignup(),e.handleClose();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(N.a)(C.a.mark((function t(a){var n,o,r,c,l,s,u;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(K(),Y(),U(""),!(_.current.value.length>0&&G.current.value.length>0)){t.next=23;break}return n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userEmail:_.current.value,userPassword:G.current.value})},t.prev=5,i(!0),t.next=9,fetch(M+"/user/login",n);case 9:if(!(o=t.sent).ok){t.next=15;break}return t.next=13,o.json();case 13:(r=t.sent).isSuccess?(c=r.userId,l=r.userName,s=_.current.value,e.setUserData({userId:c,userName:l,userEmail:s}),(u=new x.a).set("userId",c,{path:"/"}),u.set("userName",l,{path:"/"}),u.set("userEmail",s,{path:"/"}),e.handleClose()):U(r.errorMsg);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),alert("fetch failed",t.t0);case 20:return t.prev=20,i(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(D.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(A.a,{in:r,unmountOnExit:!0},o.a.createElement(T.a,{className:t.circleProgress})),o.a.createElement(I.a,{id:"form-dialog-title"},"Login"),o.a.createElement(B.a,null,o.a.createElement(w.a,{autoFocus:!0,inputRef:_,margin:"dense",id:"email",label:"Email Address",type:"email",variant:"outlined",fullWidth:!0,error:m,helperText:S,className:t.dialogInputBox,onBlur:function(){K()}}),o.a.createElement(w.a,{inputRef:G,margin:"dense",id:"password",label:"Password",type:"password",variant:"outlined",fullWidth:!0,error:h,helperText:L,className:t.dialogInputBox,onBlur:function(){Y()}}),o.a.createElement(F.a,{className:t.errorMessage},z)),o.a.createElement(P.a,{className:t.dialogActions},o.a.createElement(d.a,{onClick:Z,color:"primary",className:t.dialogLeftButton},"Sign up"),o.a.createElement(d.a,{variant:"contained",onClick:V,color:"primary"},"Login"))))}var W=Object(u.a)((function(e){return{dialogInputBox:{margin:e.spacing(0,0,2)},dialogActions:{display:"flex",margin:e.spacing(0,2,2)},circleProgress:{zIndex:999,position:"absolute",top:"50%",left:"50%",marginTop:"-24px",marginLeft:"-24px"}}}));function H(e){var t=W(),a=o.a.useState(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],l=o.a.useState(!1),s=Object(c.a)(l,2),u=s[0],p=s[1],m=o.a.useState(!1),f=Object(c.a)(m,2),g=f[0],b=f[1],h=o.a.useState(!1),v=Object(c.a)(h,2),E=v[0],y=v[1],S=o.a.useState(""),x=Object(c.a)(S,2),k=x[0],O=x[1],j=o.a.useState(""),F=Object(c.a)(j,2),R=F[0],L=F[1],H=o.a.useState(""),J=Object(c.a)(H,2),z=J[0],U=J[1],_=o.a.useRef(),G=o.a.useRef(),K=o.a.useRef(),Y=function(){_.current.value.length<1?(console.log("Name is empty"),p(!0),O("Name cannot be empty")):(p(!1),O(""))},Z=function(){G.current.value.length<1?(console.log("Email is empty"),b(!0),L("Email cannot be empty")):(b(!1),L(""))},V=function(){K.current.value.length<1?(console.log("Password is empty"),y(!0),U("Password cannot be empty")):(y(!1),U(""))},$=function(){var t=Object(N.a)(C.a.mark((function t(a){var n,o,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y(),Z(),V(),!(_.current.value.length>0&&G.current.value.length>0&&K.current.value.length>0)){t.next=23;break}return n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userName:_.current.value,userEmail:G.current.value,userPassword:K.current.value})},t.prev=5,i(!0),t.next=9,fetch(M+"/user/signup",n);case 9:if(!(o=t.sent).ok){t.next=15;break}return t.next=13,o.json();case 13:(r=t.sent).isSuccess?(e.setDialogMessage("Sign up success!"),e.openMessageDialog(),e.handleClose()):alert(r.errorMsg);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),alert("fetch failed",t.t0);case 20:return t.prev=20,i(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(D.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(A.a,{in:r,unmountOnExit:!0},o.a.createElement(T.a,{className:t.circleProgress})),o.a.createElement(I.a,{id:"form-dialog-title"},"Signup"),o.a.createElement(B.a,null,o.a.createElement(w.a,{autoFocus:!0,inputRef:_,margin:"dense",id:"name",label:"User Name",type:"text",variant:"outlined",fullWidth:!0,error:u,helperText:k,className:t.dialogInputBox,onBlur:function(){Y()}}),o.a.createElement(w.a,{inputRef:G,margin:"dense",id:"email",label:"Email Address",type:"email",variant:"outlined",fullWidth:!0,error:g,helperText:R,className:t.dialogInputBox,onBlur:function(){Z()}}),o.a.createElement(w.a,{inputRef:K,margin:"dense",id:"password",label:"Password",type:"password",variant:"outlined",fullWidth:!0,error:E,helperText:z,className:t.dialogInputBox,onBlur:function(){V()}})),o.a.createElement(P.a,{className:t.dialogActions},o.a.createElement(d.a,{variant:"contained",onClick:$,color:"primary"},"Sign up"))))}var J=Object(u.a)((function(e){return{message:{textAlign:"center",margin:e.spacing(0,0,2)}}}));function z(e){var t=J();return o.a.createElement("div",null,o.a.createElement(D.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},null!=e.title&&o.a.createElement(I.a,null,e.title),o.a.createElement(B.a,null,o.a.createElement(F.a,{className:t.message},e.message))))}var U=Object(u.a)((function(e){return{root:{flexGrow:1},brandButton:{marginRight:e.spacing(2)},rightButtons:{marginLeft:"auto",display:"inline-flex"}}}));function _(e){var t=U(),a=o.a.useState(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],l=o.a.useState(!1),s=Object(c.a)(l,2),u=s[0],f=s[1],g=o.a.useState(!1),b=Object(c.a)(g,2),h=b[0],v=b[1],E=o.a.useState(""),y=Object(c.a)(E,2),S=y[0],x=y[1];return o.a.createElement("div",{className:t.root},o.a.createElement(p.a,{position:"static"},o.a.createElement(L,{isOpen:r,handleClose:function(){i(!1)},setUserData:e.setUserData,openSignup:function(){f(!0)}}),o.a.createElement(H,{isOpen:u,handleClose:function(){f(!1)},setDialogMessage:x,openMessageDialog:function(){v(!0)}}),o.a.createElement(z,{isOpen:h,handleClose:function(){v(!1)},message:S}),o.a.createElement(m.a,null,o.a.createElement(d.a,{className:t.brandButton,color:"inherit",size:"large"},"AI Asset"),o.a.createElement("section",{className:t.rightButtons},void 0==e.userData.userEmail?o.a.createElement(d.a,{color:"inherit",onClick:function(e){i(!0)}},"Login"):o.a.createElement(O,{setUserData:e.setUserData,userData:e.userData})))))}var G=a(79),K=a(323),Y=Object(u.a)((function(e){return{dialogInputBox:{margin:e.spacing(0,0,2)},dialogActions:{display:"flex",margin:e.spacing(0,2,2)},errorMessage:{color:"#f44336",margin:e.spacing(0,2,0)},circleProgress:{zIndex:999,position:"absolute",top:"50%",left:"50%",marginTop:"-24px",marginLeft:"-24px"}}}));function Z(e){var t=Y(),a=o.a.useState(!1),n=Object(c.a)(a,2),r=n[0],i=(n[1],o.a.useState(!1)),l=Object(c.a)(i,2),s=(l[0],l[1],o.a.useState(!1)),u=Object(c.a)(s,2),p=u[0],m=u[1],f=o.a.useState(""),g=Object(c.a)(f,2),b=g[0],h=g[1],v=o.a.useState(""),E=Object(c.a)(v,2),y=E[0],S=E[1],x=o.a.useRef(),k=function(){x.current.value.length<1?(m(!0),h("Portfolio's name cannot be empty")):(m(!1),h(""))},O=function(){var t=Object(N.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k(),S(""),x.current.value.length>0&&e.createNewPortfolio(x.current.value);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(D.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(A.a,{in:r,unmountOnExit:!0},o.a.createElement(T.a,{className:t.circleProgress})),o.a.createElement(I.a,{id:"form-dialog-title"},"Create New Portfolio"),o.a.createElement(B.a,null,o.a.createElement(w.a,{autoFocus:!0,inputRef:x,margin:"dense",id:"portfolioName",label:"Portfolio name",type:"text",variant:"outlined",fullWidth:!0,error:p,helperText:b,className:t.dialogInputBox,onBlur:function(){k()}}),o.a.createElement(F.a,{className:t.errorMessage},y)),o.a.createElement(P.a,{className:t.dialogActions},o.a.createElement(d.a,{variant:"contained",onClick:O,color:"primary"},"Create"))))}var V=a(330),$=a(275),q=a(321),Q=a(322),X=a(135),ee=a.n(X),te=Object(u.a)((function(e){return{listItemText:{textOverflow:"ellipsis"}}}));function ae(e){var t=te();return o.a.createElement($.a,{button:!0,alignItems:"flex-start",onClick:function(){console.log(e.companySymbol),e.stockListItemOnclick(e.companySymbol)}},o.a.createElement(q.a,{classes:{primary:t.listItemText},primary:e.companyName,secondary:e.companySymbol}),o.a.createElement(Q.a,{edge:"end","aria-label":"delete",onClick:function(){e.removeSelectedStock(e.companyId)}},o.a.createElement(ee.a,null)))}var ne=a(99),oe=a(324),re=Object(u.a)((function(e){return{stockComponent:{margin:e.spacing(0,0,2)},listSubHeader:{textAlign:"initial"},listTitle:{margin:e.spacing(1,1,1),display:"inline-flex"},saveButton:{marginLeft:"auto",height:"36px",width:"64px"},emptyText:{margin:e.spacing(2,0,2),textAlign:"center"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var ie=function(e){var t=re(),a=function(t){var a=Array.from(e.selectedStocks),n=a.findIndex((function(e){return e.companyId===t}));if(-1!==n){a.splice(n,1);var o=a.map((function(e,t,a){return e.companySymbol}));e.setSelectedStocks(o)}},n=function(t){console.log(t),t===e.currentSelectedStock&&e.setCurrentSelectedStock(t)},r=function(e){var t=e.data,r=e.index,i=e.style,c=t[r];return o.a.createElement("div",{style:i},o.a.createElement(ae,{companyName:c.companyName,companySymbol:c.companySymbol,companyId:c.companyId,removeSelectedStock:a,stockListItemOnclick:n}))};return o.a.createElement(V.a,{className:t.stockComponent,component:K.a,container:!0,direction:"column"},o.a.createElement(K.a,{item:!0,className:t.listTitle},o.a.createElement(F.a,{variant:"h6"},"Stocks"),o.a.createElement(d.a,{className:t.saveButton,variant:"outlined",disabled:e.saveButtonLoading,onClick:function(){e.savePortfolio()}},e.saveButtonLoading?o.a.createElement(T.a,{size:24,className:t.buttonProgress}):"Save")),o.a.createElement(oe.a,null),e.selectedStocks.length>0?o.a.createElement(ne.a,{height:520,itemSize:60,itemCount:e.selectedStocks.length,itemData:e.selectedStocks},r):o.a.createElement(F.a,{className:t.emptyText},"This portfolio is empty"))},ce=Object(u.a)((function(e){var t;return{root:(t={height:"100vh",padding:e.spacing(1,1,1),flexGrow:1},Object(l.a)(t,e.breakpoints.up("xs"),{width:"60vw"}),Object(l.a)(t,e.breakpoints.up("md"),{width:"50vw"}),Object(l.a)(t,e.breakpoints.up("lg"),{width:"25vw"}),Object(l.a)(t,"position","fixed"),Object(l.a)(t,"zIndex",1400),Object(l.a)(t,"background","white"),t)}}));function le(e){var t=ce();return o.a.createElement(V.a,{className:t.root,boxShadow:1},o.a.createElement(ie,{selectedStocks:e.selectedStocks,setSelectedStocks:e.setSelectedStocks,currentSelectedStock:e.currentSelectedStock,setCurrentSelectedStock:e.setCurrentSelectedStock,savePortfolio:e.savePortfolio,saveButtonLoading:e.saveButtonLoading}))}var se=a(331),ue=a(146),pe=Object(u.a)((function(e){return{searchBox:{display:"flex",alignItems:"center",minWidth:300}}}));var me=function(e){var t=o.a.useState(null),a=Object(c.a)(t,2),n=(a[0],a[1],e.additionalStyles,e.companyData),r=e.selectedStocks,i=e.setSelectedStocks,l=pe(),u=function(t){if(console.log(t),null!=r.find((function(e){return e.companyId===t.companyId})))e.setDialogTitle("Error"),e.setDialogMessage("The stock is already in the list"),e.openMessageDialog();else{var a=r.map((function(e,t,a){return e.companySymbol}));i([].concat(Object(G.a)(a),[t.companySymbol])),e.setDialogTitle("Success"),e.setDialogMessage("Add "+t.companyName+" to your portfolio"),e.openMessageDialog()}};return o.a.createElement("div",null,o.a.createElement(se.a,{freeSolo:!0,className:l.searchBox,id:"search-box",disableClearable:!0,size:"small",onChange:function(e,t){u(t)},options:n,getOptionLabel:function(e){return e.companyName},filterOptions:function(e,t){var a=t.inputValue;return Object(ue.a)(e,a,{keys:["companyName","companySymbol"]}).slice(0,10)},renderInput:function(e){return o.a.createElement(w.a,Object.assign({},e,{label:"Add company",margin:"normal",variant:"outlined",InputProps:Object(s.a)(Object(s.a)({},e.InputProps),{},{type:"search"})}))}}))},de=a(139),fe=a.n(de),ge=a(140),be=a.n(ge),he=a(138),ve=a.n(he),Ee=a(325),ye=Object(u.a)((function(e){return{root:{display:"flex"},expandButton:{color:"inherit"},popperRoot:{zIndex:1400},popperMenuItem:{paddingRight:"8px"}}}));function Se(e){var t=ye(),a=o.a.useState(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],l=o.a.useRef(null),s=function(e){l.current&&l.current.contains(e.target)||i(!1)},u=function(t){void 0==e.userData.userId?(e.setDialogTitle("Error"),e.setDialogMessage("Please login first"),e.openMessageDialog()):e.handleCreatePortfolioDialogOpen(),s(t)},p=function(e){"Tab"===e.key&&(e.preventDefault(),i(!1))},m=o.a.useRef(r);o.a.useEffect((function(){!0===m.current&&!1===r&&l.current.focus(),m.current=r}),[r]);var y=e.userPortfolios.map((function(t){return o.a.createElement(v.a,{key:t.portfolioId.toString(),onClick:function(a){!function(t,a){e.setCurrentSelectedPortfolio(a),console.log(a);var n=e.userPortfolios.find((function(e,t,n){return e.portfolioId===a})).portfolioStocks;e.setSelectedStocks(n),e.setSideBarExpand(!0),s(t)}(a,t.portfolioId)}},o.a.createElement(F.a,{variant:"inherit",noWrap:!0},t.portfolioName))}));return o.a.createElement("div",{className:t.root},o.a.createElement(Ee.a,{title:"Portfolio Stocks"},o.a.createElement(Q.a,{edge:"start",className:t.menuButton,onClick:function(){e.setSideBarExpand(!e.isSideBarExpanded)},color:"inherit","aria-label":"menu"},o.a.createElement(ve.a,null))),o.a.createElement(d.a,{endIcon:o.a.createElement(fe.a,null),ref:l,"aria-controls":r?"menu-list-grow":void 0,"aria-haspopup":"true",className:t.expandButton,onClick:function(){i((function(e){return!e}))}},o.a.createElement(F.a,{variant:"inherit",noWrap:!0},void 0==e.currentSelectedPortfolio||0==e.userPortfolios.length?"My Portfolios":e.userPortfolios.find((function(t,a,n){return t.portfolioId===e.currentSelectedPortfolio})).portfolioName)),o.a.createElement(h.a,{className:t.popperRoot,open:r,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,n=e.placement;return o.a.createElement(g.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),o.a.createElement(b.a,null,o.a.createElement(f.a,{onClickAway:s},o.a.createElement(E.a,{autoFocusItem:r,id:"menu-list-grow",onKeyDown:p},y,o.a.createElement(oe.a,{light:!0,component:"li"}),o.a.createElement(v.a,{onClick:u},o.a.createElement(F.a,{variant:"inherit",noWrap:!0,className:t.popperMenuItem},"Create New Portfolio"),o.a.createElement(be.a,{fontSize:"small",className:t.popperMenuItem}))))))})))}var xe=a(142),ke=a.n(xe),Oe=a(143),je=a.n(Oe),Ce=a(141),Ne=a.n(Ce),we=Object(u.a)((function(e){return{root:{marginLeft:"auto",display:"inline-flex"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}}));function De(e){var t=we();return o.a.createElement("div",{className:t.root},o.a.createElement(Ee.a,{title:"News"},o.a.createElement(Q.a,{edge:"start",color:"inherit",onClick:function(){e.setSectionCode(0)},"aria-label":"show News"},o.a.createElement(Ne.a,null))),o.a.createElement(Ee.a,{title:"Performance"},o.a.createElement(Q.a,{edge:"start",color:"inherit",onClick:function(){e.setSectionCode(1)},"aria-label":"show performance"},o.a.createElement(ke.a,null))),o.a.createElement(Ee.a,{title:"Weight"},o.a.createElement(Q.a,{edge:"start",color:"inherit",onClick:function(){e.setSectionCode(2)},"aria-label":"asset weight"},o.a.createElement(je.a,null))))}var Pe=a(332),Be=Object(u.a)((function(e){return{root:{width:"100%",padding:e.spacing(1,2,1),boxShadow:"0 0 1px 1px rgba(0, 0, 0 ,.1)"},menuButtons:{display:"inline-flex"}}}));function Ie(e){var t=Be();return o.a.createElement(K.a,{className:t.root,container:!0,direction:"row",justify:"flex-start",alignItems:"center"},o.a.createElement(K.a,{item:!0,xs:12,sm:3,className:t.menuButtons},o.a.createElement(Se,{isSideBarExpanded:e.isSideBarExpanded,setSideBarExpand:e.setSideBarExpand,setSelectedStocks:e.setSelectedStocks,userPortfolios:e.userPortfolios,setUserPortfolios:e.setUserPortfolios,currentSelectedPortfolio:e.currentSelectedPortfolio,setCurrentSelectedPortfolio:e.setCurrentSelectedPortfolio,handleCreatePortfolioDialogOpen:e.handleCreatePortfolioDialogOpen,setDialogTitle:e.setDialogTitle,setDialogMessage:e.setDialogMessage,openMessageDialog:e.openMessageDialog,userData:e.userData}),o.a.createElement(Pe.a,{smUp:!0},o.a.createElement(De,{showSearchButton:!0,setSectionCode:e.setSectionCode}))),o.a.createElement(K.a,{item:!0,container:!0,xs:12,sm:6,justify:"center"},o.a.createElement(me,{selectedStocks:e.selectedStocks,setSelectedStocks:e.setSelectedStocks,companyData:e.companyData,setDialogTitle:e.setDialogTitle,setDialogMessage:e.setDialogMessage,openMessageDialog:e.openMessageDialog})),o.a.createElement(Pe.a,{xsDown:!0},o.a.createElement(K.a,{item:!0,container:!0,sm:3,justify:"center"},o.a.createElement(De,{setSectionCode:e.setSectionCode}))))}var Te=a(326),Ae=a(327),Fe=Object(u.a)((function(e){return{root:{width:"100%",margin:e.spacing(0,0,2)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},sentence:Object(s.a)({},e.typography.body1),keySentence:Object(s.a)(Object(s.a)({},e.typography.body1),{},{backgroundColor:"rgba(255, 229, 100, 0.2)"})}}));function Me(e){var t=Fe();t.bullet;return o.a.createElement(Te.a,{className:t.root,variant:"outlined"},o.a.createElement(Ae.a,null,o.a.createElement(F.a,{className:t.title,color:"textSecondary",gutterBottom:!0},e.companyName),o.a.createElement(F.a,{variant:"h5",component:"h2"},e.title),o.a.createElement(F.a,{className:t.pos,color:"textSecondary"},e.date),o.a.createElement(F.a,{variant:"body2",component:"p"},void 0!=e.paragraph&&o.a.createElement("div",null,e.paragraph.map((function(e,a){return e.isKeySentence?o.a.createElement("p",{key:a,className:t.keySentence},e.text):o.a.createElement("p",{key:a,className:t.sentence},e.text)}))))))}var Re=Object(u.a)((function(e){return{root:{},listSubHeader:{textAlign:"initial"},listTitle:{margin:e.spacing(1,1,1),display:"inline-flex"},saveButton:{marginLeft:"auto",height:"36px",width:"64px"},emptyText:{margin:e.spacing(2,0,2),textAlign:"center"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var Le=function(e){var t=Re();return o.a.createElement(K.a,{className:t.root,container:!0,direction:"column"},e.newsData.map((function(e){return o.a.createElement(Me,{key:e.id,date:e.date,title:e.title,companyName:e.companyName,paragraph:e.paragraph})})))},We=Object(u.a)((function(e){return{sectionRoot:{margin:e.spacing(2,0,2)},sectionTitle:{margin:e.spacing(0,0,2)}}}));function He(e){var t=We();return o.a.createElement("div",{className:t.sectionRoot},o.a.createElement(F.a,{className:t.sectionTitle,variant:"h5"},"News"),o.a.createElement(Le,{newsData:e.newsData}))}var Je=a(78),ze=Object(u.a)((function(e){return{sectionRoot:{margin:e.spacing(2,0,2)},sectionTitle:{margin:e.spacing(0,0,2)}}}));function Ue(e){var t=ze();return o.a.createElement("div",{className:t.sectionRoot},o.a.createElement(F.a,{className:t.sectionTitle,variant:"h5"},"Performance"),o.a.createElement(Je.Line,{data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"GOOG",fill:!1,lineTension:.1,backgroundColor:"#FF6384",borderColor:"#FF6384",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#FF6384",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#FF6384",pointHoverBorderColor:"#FF6384",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[40,59,80,61,70,90,100]},{label:"APPL",fill:!1,lineTension:.1,backgroundColor:"#36A2EB",borderColor:"#36A2EB",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#36A2EB",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#36A2EB",pointHoverBorderColor:"#36A2EB",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[50,29,30,58,65,75,67]},{label:"AMZN",fill:!1,lineTension:.1,backgroundColor:"#FFCE56",borderColor:"#FFCE56",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#FFCE56",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#FFCE56",pointHoverBorderColor:"#FFCE56",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[66,64,70,75,63,80,79]}]}}))}var _e=Object(u.a)((function(e){return{sectionRoot:{margin:e.spacing(2,0,2)},sectionTitle:{margin:e.spacing(0,0,2)}}}));function Ge(e){var t=_e();return o.a.createElement("div",{className:t.sectionRoot},o.a.createElement(F.a,{className:t.sectionTitle,variant:"h5"},"Portfolio Weight"),o.a.createElement(Je.Pie,{data:{labels:["GOOG","APPL","AMZN"],datasets:[{data:[50,20,30],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}}))}var Ke=a(145),Ye=Object(u.a)((function(e){var t;return{portfolioPage:(t={height:"calc(100% - 56px)"},Object(l.a)(t,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{height:"calc(100% - 48px)"}),Object(l.a)(t,e.breakpoints.up("sm"),{height:"calc(100% - 64px)"}),Object(l.a)(t,"display","flex"),Object(l.a)(t,"flexDirection","column"),t),title:{textAlign:"initial",margin:e.spacing(4,0,2)},portfolioContent:{flex:"auto",overflowY:"scroll"},companyName:{margin:e.spacing(4,0,2)},sideBar:{zIndex:1300}}}));var Ze=function(e){var t=Ye(),a=o.a.useState([]),n=Object(c.a)(a,2),r=n[0],i=n[1],l=o.a.useState([]),s=Object(c.a)(l,2),u=s[0],p=s[1],m=o.a.useState({}),d=Object(c.a)(m,2),f=d[0],g=d[1],b=o.a.useState([]),h=Object(c.a)(b,2),v=h[0],E=h[1],y=o.a.useState([]),S=Object(c.a)(y,2),x=S[0],k=S[1],O=o.a.useState(!1),j=Object(c.a)(O,2),w=j[0],D=j[1],P=o.a.useState(!1),B=Object(c.a)(P,2),I=B[0],T=B[1],A=o.a.useState(!1),F=Object(c.a)(A,2),R=F[0],L=F[1],W=o.a.useState(!1),H=Object(c.a)(W,2),J=H[0],U=H[1],_=o.a.useState(!1),Y=Object(c.a)(_,2),V=Y[0],$=(Y[1],o.a.useState(!1)),q=Object(c.a)($,2),Q=q[0],X=q[1],ee=o.a.useState(""),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],oe=o.a.useState(""),re=Object(c.a)(oe,2),ie=re[0],ce=re[1],se=o.a.useState(null),ue=Object(c.a)(se,2),pe=ue[0],me=ue[1],de=o.a.useState("APPL"),fe=Object(c.a)(de,2),ge=fe[0],be=fe[1],he=o.a.useState(0),ve=Object(c.a)(he,2),Ee=ve[0],ye=ve[1],Se=function(e){console.log(e),console.log(f);for(var t=[],a=0;a<e.length;a++)t.push(f[e[a]]);console.log(t),k(t)},xe=function(){L(!0)},ke=function(){X(!1)},Oe=function(){var e=Object(N.a)(C.a.mark((function e(){var t,a,n,o,r,c,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET"},e.prev=1,console.log("Try to get company data"),e.next=5,fetch(M+"/company",t);case 5:if(!(a=e.sent).ok){e.next=13;break}return e.next=9,a.json();case 9:if(n=e.sent,console.log("Company data:"),console.log(n),n.isSuccess){for(o={},r=[],c=0;c<n.data.length;c++)l={companyIndustry:n.data[c].industry,companyName:n.data[c].company_name,companySymbol:n.data[c].symbol,companyId:n.data[c].id_},o[n.data[c].symbol]=l,r.push(l);i(r),g(o)}else alert(n.errorMsg);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("Fetch company data failed",e.t0);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}}),e,null,[[1,15,18,20]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(N.a)(C.a.mark((function e(t){var a,n,o,r,i,c,l,s,u,m,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.map((function(e,t,a){return e.companyName})),n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({companyNames:a})},e.prev=2,!(a.length>0)){e.next=13;break}return console.log("Try to get news"),e.next=7,fetch(M+"/news",n);case 7:if(!(o=e.sent).ok){e.next=13;break}return e.next=11,o.json();case 11:if((r=e.sent).isSuccess){for(i=[],c=0;c<r.data.length;c++){for(l=[],s=0;s<r.data[c].paragraph.length;s++)u={isKeySentence:!1,text:r.data[c].paragraph[s]},l.push(u);for(s=0;s<r.data[c].keysent.length;s++)l[r.data[c].keysent[s]].isKeySentence=!0;m=new Date(r.data[c].date),d={date:m.getFullYear()+"/"+(m.getMonth()+1)+"/"+m.getDate(),companyName:r.data[c].company,paragraph:l,title:r.data[c].title,id:r.data[c].id},i.push(d)}console.log(i),p(i)}else alert(r.errorMsg);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("Fetch news failed",e.t0);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}}),e,null,[[2,15,18,20]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var t=Object(N.a)(C.a.mark((function t(a){var n,o,r,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({portfolioName:a,userId:e.userData.userId})},t.prev=1,t.next=4,fetch(M+"/portfolio/create",n);case 4:if(!(o=t.sent).ok){t.next=11;break}return t.next=8,o.json();case 8:r=t.sent,console.log(r),r.isSuccess?(i={portfolioId:r.data.id,userId:r.data.user_id,portfolioName:r.data.portfolio_name,portfolioStocks:r.data.portfolio_stocks},E([].concat(Object(G.a)(v),[i])),ke()):alert(r.errorMsg);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),alert("create new portfolio failed",t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),Ne=function(){var t=Object(N.a)(C.a.mark((function t(){var a,n,o,r,i,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0==e.userData.userId){t.next=21;break}return a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:e.userData.userId})},t.prev=2,console.log("Try to get user portfolio data"),t.next=6,fetch(M+"/portfolio",a);case 6:if(!(n=t.sent).ok){t.next=13;break}return t.next=10,n.json();case 10:if(o=t.sent,console.log(o),o.isSuccess){if(D(!0),o.data.length>0){for(r=[],i=0;i<o.data.length;i++)c={portfolioId:o.data[i].id,userId:o.data[i].user_id,portfolioName:o.data[i].portfolio_name,portfolioStocks:o.data[i].portfolio_stocks},r.push(c);E(r)}}else alert(o.errorMsg),D(!1);case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),D(!1),console.log("Fetch company data failed",t.t0);case 19:return t.prev=19,t.finish(19);case 21:case"end":return t.stop()}}),t,null,[[2,15,19,21]])})));return function(){return t.apply(this,arguments)}}(),we=function(){var t=Object(N.a)(C.a.mark((function t(){var a,n,o,r,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0==e.userData.userId){t.next=26;break}return a=x.map((function(e,t,a){return e.companySymbol})),console.log(a),n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({portfolioId:pe,portfolioStocks:a})},t.prev=4,console.log("Try to save portfolio: "+pe),console.log(n),U(!0),t.next=10,fetch(M+"/portfolio/save",n);case 10:if(!(o=t.sent).ok){t.next=16;break}return t.next=14,o.json();case 14:(r=t.sent).isSuccess?((i=Array.from(v)).forEach((function(e,t,n){e.portfolioId==pe&&(e.portfolioStocks=a)})),console.log(i),E(i),ne("Success"),ce("Portfolio has been updated!"),xe()):alert(r.errorMsg);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),console.log("Fetch company data failed",t.t0);case 21:return t.prev=21,U(!1),t.finish(21);case 24:t.next=27;break;case 26:void 0==e.userData.userId?(ce("Please login first"),xe()):void 0==pe&&(ce("Create portfolio first"),xe());case 27:case"end":return t.stop()}}),t,null,[[4,18,21,24]])})));return function(){return t.apply(this,arguments)}}();return o.a.useEffect((function(){console.log(Ee)}),[Ee]),o.a.useEffect((function(){w||Oe(),void 0!==e.userData.userId&&Ne()}),[e.userData]),o.a.useEffect((function(){v.length>0&&void 0==pe&&(me(v[0].portfolioId),Se(v[0].portfolioStocks))}),[v]),o.a.useEffect((function(){console.log("newssection"),void 0!=x&&x.length>0&&(console.log("getNews"),je(x))}),[x]),o.a.createElement("div",{className:t.portfolioPage},o.a.createElement(z,{isOpen:R,handleClose:function(){L(!1)},title:ae,message:ie}),o.a.createElement(Z,{isOpen:Q,handleClose:ke,userPortfolios:v,setUserPortfolios:E,setCurrentSelectedPortfolio:me,createNewPortfolio:Ce,userData:e.userData}),o.a.createElement(Ie,{selectedStocks:x,setSelectedStocks:Se,companyData:r,setDialogTitle:ne,setDialogMessage:ce,isSideBarExpanded:I,setSideBarExpand:T,openMessageDialog:xe,userPortfolios:v,setUserPortfolios:E,currentSelectedPortfolio:pe,setCurrentSelectedPortfolio:me,handleCreatePortfolioDialogOpen:function(){X(!0)},userData:e.userData,setSectionCode:ye}),o.a.createElement(Ke.a.div,{className:t.sideBar,initial:"closed",animate:I?"open":"closed",variants:{open:{opacity:1,x:0,transition:{duration:.5}},closed:{opacity:.5,x:"-100%",transition:{duration:1}}}},o.a.createElement(le,{selectedStocks:x,setSelectedStocks:Se,currentSelectedStock:ge,setCurrentSelectedStock:be,savePortfolio:we,saveButtonLoading:J,saveButtonDisabled:V})),o.a.createElement(K.a,{item:!0,container:!0,direction:"row",justify:"center",alignItems:"stretch",className:t.portfolioContent},o.a.createElement(K.a,{item:!0,xs:10,md:6},function(){switch(Ee){case 0:return o.a.createElement(He,{newsData:u});case 1:return o.a.createElement(Ue,null);case 2:return o.a.createElement(Ge,null);default:return o.a.createElement(He,{newsData:u})}}())))},Ve=Object(u.a)((function(e){return{root:{height:"100%"},title:{textAlign:"initial",margin:e.spacing(4,0,2)}}}));var $e=function(){var e=Ve(),t=new x.a,a=o.a.useState({userId:t.get("userId"),userName:t.get("userName"),userEmail:t.get("userEmail")}),n=Object(c.a)(a,2),r=n[0],i=n[1];return console.log(r),o.a.createElement("div",{className:e.root},o.a.createElement(_,{userData:r,setUserData:i}),o.a.createElement(Ze,{userData:r}))},qe=a(144),Qe=Object(qe.a)({palette:{primary:{main:"#424242"},secondary:{main:"#424242"}},themeName:"Tundora Tundora Dog"}),Xe=a(328);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(Xe.a,{theme:Qe},o.a.createElement($e,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.d6c6d087.chunk.js.map