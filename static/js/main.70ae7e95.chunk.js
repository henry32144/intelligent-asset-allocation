(this["webpackJsonpreact-web"]=this["webpackJsonpreact-web"]||[]).push([[0],{168:function(e,a,t){e.exports=t(275)},173:function(e,a,t){},174:function(e,a,t){},275:function(e,a,t){"use strict";t.r(a);var o=t(0),n=t.n(o),c=t(12),r=t.n(c),l=(t(173),t(8)),i=(t(174),t(320)),s=t(329),m=t(330),y=t(322),p=t(324),u=t(279),d=t(101),g=t(277),f=t(325),b=t(352),I=t(131),v=t.n(I),S=t(85),h=t(78),C=t.n(h),N=Object(i.a)((function(e){return{root:{display:"flex"},accountButton:{color:"inherit"},popperStyle:{zIndex:"1400"}}}));function E(e){var a=N(),t=n.a.useState(!1),o=Object(l.a)(t,2),c=o[0],r=o[1],i=n.a.useRef(null),s=function(e){i.current&&i.current.contains(e.target)||r(!1)},m=function(a){e.setUserData({userId:null,userName:null,userEmail:null});var t=new S.a;t.remove("userId",{path:"/"}),t.remove("userName",{path:"/"}),t.remove("userEmail",{path:"/"}),s(a),window.location.pathname="./"};function I(e){"Tab"===e.key&&(e.preventDefault(),r(!1))}var h=n.a.useRef(c);return n.a.useEffect((function(){!0===h.current&&!1===c&&i.current.focus(),h.current=c}),[c]),n.a.createElement("div",{className:a.root},n.a.createElement("div",null,n.a.createElement(y.a,{startIcon:n.a.createElement(v.a,null),endIcon:n.a.createElement(C.a,null),ref:i,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",className:a.accountButton,onClick:function(){r((function(e){return!e}))}},void 0==e.userData.userName?"Account":e.userData.userName),n.a.createElement(g.a,{className:a.popperStyle,open:c,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return n.a.createElement(u.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),n.a.createElement(d.a,null,n.a.createElement(p.a,{onClickAway:s},n.a.createElement(b.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:I},n.a.createElement(f.a,{onClick:m},"Logout")))))}))))}var k=t(326),O=t(327),x=t(328),D=t(48),T=Object(i.a)((function(e){return{message:{textAlign:"center",margin:e.spacing(0,0,2)}}}));function P(e){var a=T();return n.a.createElement("div",null,n.a.createElement(k.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},null!=e.title&&n.a.createElement(O.a,null,e.title),n.a.createElement(x.a,null,n.a.createElement(D.a,{className:a.message},e.message))))}var M="http://127.0.0.1:5000",w=["#d847a7","#5bc452","#a848bf","#8ebc3a","#9d68e3","#41922e","#4d54c3","#b4b534","#6978e7","#d5a334","#588de5","#d97f2e","#7b4fab","#48c27b","#e14079","#328b4c","#db7ada","#7a8d2b","#a04b97","#68c194","#d23c4d","#47cebe","#d64b2b","#54b9e5","#a44925","#3db6c0","#b03371","#6b9854","#cf90d5","#4e6e27","#9279c3","#bcab59","#4860a5","#a2bb73","#725392","#7b6e20","#a0a0e2","#96642d","#4e90c8","#e57f5f","#379577","#aa4356","#367042","#df80a9","#206e54","#e17f82","#77733e","#965581","#d69d6a","#995258"],j={MMM:{companyIndustry:"Industrials",companyName:"3M",companySymbol:"MMM",companyId:1,volatility:"stable"},ABT:{companyIndustry:"Health Care",companyName:"Abbott Laboratories",companySymbol:"ABT",companyId:2,volatility:"stable"},ABBV:{companyIndustry:"Health Care",companyName:"AbbVie Inc",companySymbol:"ABBV",companyId:3,volatility:"stable"},ACN:{companyIndustry:"Information Technology",companyName:"Accenture Plc",companySymbol:"ACN",companyId:4,volatility:"stable"},ATVI:{companyIndustry:"Communication Services",companyName:"Activision Blizzard, Inc.",companySymbol:"ATVI",companyId:5,volatility:"stable"},ADBE:{companyIndustry:"Information Technology",companyName:"Adobe Inc",companySymbol:"ADBE",companyId:6,volatility:"aggresive"},AMD:{companyIndustry:"Information Technology",companyName:"Advanced Micro Devices, Inc.",companySymbol:"AMD",companyId:7,volatility:"stable"},APD:{companyIndustry:"Materials",companyName:"Air Products & Chemicals, Inc.",companySymbol:"APD",companyId:8,volatility:"stable"},GOOG:{companyIndustry:"Communication Services",companyName:"Alphabet Inc",companySymbol:"GOOG",companyId:9,volatility:"aggresive"},MO:{companyIndustry:"Consumer Staples",companyName:"Altria Group Inc",companySymbol:"MO",companyId:10,volatility:"stable"},AMZN:{companyIndustry:"Consumer Discretionary",companyName:"Amazon.com, Inc.",companySymbol:"AMZN",companyId:11,volatility:"aggresive"},AXP:{companyIndustry:"Financials",companyName:"American Express Company",companySymbol:"AXP",companyId:12,volatility:"stable"},AMT:{companyIndustry:"Real Estate",companyName:"American Tower Corp",companySymbol:"AMT",companyId:13,volatility:"stable"},AMGN:{companyIndustry:"Health Care",companyName:"Amgen, Inc.",companySymbol:"AMGN",companyId:14,volatility:"stable"},ANTM:{companyIndustry:"Health Care",companyName:"Anthem Inc",companySymbol:"ANTM",companyId:15,volatility:"aggresive"},AAPL:{companyIndustry:"Information Technology",companyName:"Apple Inc.",companySymbol:"AAPL",companyId:16,volatility:"aggresive"},T:{companyIndustry:"Communication Services",companyName:"AT%26T+Inc.",companySymbol:"T",companyId:17,volatility:"stable"},ADP:{companyIndustry:"Information Technology",companyName:"Automatic Data Processing Inc",companySymbol:"ADP",companyId:18,volatility:"stable"},BAC:{companyIndustry:"Financials",companyName:"Bank of America Corp",companySymbol:"BAC",companyId:19,volatility:"stable"},BDX:{companyIndustry:"Health Care",companyName:"Becton Dickinson and Co",companySymbol:"BDX",companyId:20,volatility:"aggresive"},BLK:{companyIndustry:"Financials",companyName:"BlackRock, Inc.",companySymbol:"BLK",companyId:21,volatility:"aggresive"},BA:{companyIndustry:"Industrials",companyName:"Boeing Co",companySymbol:"BA",companyId:22,volatility:"aggresive"},BKNG:{companyIndustry:"Consumer Discretionary",companyName:"Booking Holdings Inc",companySymbol:"BKNG",companyId:23,volatility:"aggresive"},BMY:{companyIndustry:"Health Care",companyName:"Bristol-Myers Squibb Co",companySymbol:"BMY",companyId:24,volatility:"stable"},AVGO:{companyIndustry:"Information Technology",companyName:"Broadcom Inc",companySymbol:"AVGO",companyId:25,volatility:"aggresive"},CAT:{companyIndustry:"Industrials",companyName:"Caterpillar Inc.",companySymbol:"CAT",companyId:26,volatility:"stable"},CHTR:{companyIndustry:"Communication Services",companyName:"Charter Communications Inc",companySymbol:"CHTR",companyId:27,volatility:"aggresive"},CVX:{companyIndustry:"Energy",companyName:"Chevron Corporation",companySymbol:"CVX",companyId:28,volatility:"stable"},CB:{companyIndustry:"Financials",companyName:"Chubb Ltd",companySymbol:"CB",companyId:29,volatility:"stable"},CI:{companyIndustry:"Health Care",companyName:"Cigna Corp",companySymbol:"CI",companyId:30,volatility:"stable"},CSCO:{companyIndustry:"Information Technology",companyName:"Cisco Systems, Inc.",companySymbol:"CSCO",companyId:31,volatility:"stable"},C:{companyIndustry:"Financials",companyName:"Citigroup Inc",companySymbol:"C",companyId:32,volatility:"stable"},KO:{companyIndustry:"Consumer Staples",companyName:"Coca-Cola Co",companySymbol:"KO",companyId:33,volatility:"stable"},CL:{companyIndustry:"Consumer Staples",companyName:"Colgate-Palmolive Company",companySymbol:"CL",companyId:34,volatility:"stable"},CMCSA:{companyIndustry:"Communication Services",companyName:"Comcast Corporation",companySymbol:"CMCSA",companyId:35,volatility:"stable"},COST:{companyIndustry:"Consumer Staples",companyName:"Costco Wholesale Corporation",companySymbol:"COST",companyId:36,volatility:"aggresive"},CCI:{companyIndustry:"Real Estate",companyName:"Crown Castle International Corp",companySymbol:"CCI",companyId:37,volatility:"stable"},CVS:{companyIndustry:"Health Care",companyName:"CVS Health Corp",companySymbol:"CVS",companyId:38,volatility:"stable"},DHR:{companyIndustry:"Health Care",companyName:"Danaher Corporation",companySymbol:"DHR",companyId:39,volatility:"stable"},D:{companyIndustry:"Utilities",companyName:"Dominion Energy Inc",companySymbol:"D",companyId:40,volatility:"stable"},EQIX:{companyIndustry:"Real Estate",companyName:"Equinix Inc",companySymbol:"EQIX",companyId:41,volatility:"aggresive"},XOM:{companyIndustry:"Energy",companyName:"Exxon Mobil Corporation",companySymbol:"XOM",companyId:42,volatility:"stable"},FB:{companyIndustry:"Communication Services",companyName:"Facebook Inc",companySymbol:"FB",companyId:43,volatility:"stable"},FIS:{companyIndustry:"Information Technology",companyName:"Fidelity National Information",companySymbol:"FIS",companyId:44,volatility:"stable"},GE:{companyIndustry:"Industrials",companyName:"General Electric Company",companySymbol:"GE",companyId:45,volatility:"stable"},GILD:{companyIndustry:"Health Care",companyName:"Gilead Sciences, Inc.",companySymbol:"GILD",companyId:46,volatility:"stable"},GS:{companyIndustry:"Financials",companyName:"Goldman Sachs Group Inc",companySymbol:"GS",companyId:47,volatility:"stable"},HD:{companyIndustry:"Consumer Discretionary",companyName:"Home Depot Inc",companySymbol:"HD",companyId:48,volatility:"stable"},HON:{companyIndustry:"Industrials",companyName:"Honeywell International Inc.",companySymbol:"HON",companyId:49,volatility:"stable"},INTC:{companyIndustry:"Information Technology",companyName:"Intel Corporation",companySymbol:"INTC",companyId:50,volatility:"stable"},IBM:{companyIndustry:"Information Technology",companyName:"International Business Machines Corp.",companySymbol:"IBM",companyId:51,volatility:"stable"},INTU:{companyIndustry:"Information Technology",companyName:"Intuit Inc.",companySymbol:"INTU",companyId:52,volatility:"aggresive"},ISRG:{companyIndustry:"Health Care",companyName:"Intuitive Surgical, Inc.",companySymbol:"ISRG",companyId:53,volatility:"aggresive"},JNJ:{companyIndustry:"Health Care",companyName:"Johnson & Johnson",companySymbol:"JNJ",companyId:54,volatility:"stable"},JPM:{companyIndustry:"Financials",companyName:"JPMorgan Chase & Co.",companySymbol:"JPM",companyId:55,volatility:"stable"},LLY:{companyIndustry:"Health Care",companyName:"Eli Lilly And Co",companySymbol:"LLY",companyId:56,volatility:"stable"},LIN:{companyIndustry:"Materials",companyName:"Linde PLC",companySymbol:"LIN",companyId:57,volatility:"stable"},LMT:{companyIndustry:"Industrials",companyName:"Lockheed Martin Corporation",companySymbol:"LMT",companyId:58,volatility:"aggresive"},LOW:{companyIndustry:"Consumer Discretionary",companyName:"Lowe`s Companies Inc",companySymbol:"LOW",companyId:59,volatility:"stable"},MA:{companyIndustry:"Information Technology",companyName:"Mastercard Inc",companySymbol:"MA",companyId:60,volatility:"aggresive"},MCD:{companyIndustry:"Consumer Discretionary",companyName:"Mcdonald's Corp",companySymbol:"MCD",companyId:61,volatility:"stable"},MDT:{companyIndustry:"Health Care",companyName:"Medtronic PLC",companySymbol:"MDT",companyId:62,volatility:"stable"},MRK:{companyIndustry:"Health Care",companyName:"Merck & Co., Inc.",companySymbol:"MRK",companyId:63,volatility:"stable"},MSFT:{companyIndustry:"Information Technology",companyName:"Microsoft Corporation",companySymbol:"MSFT",companyId:64,volatility:"stable"},MDLZ:{companyIndustry:"Consumer Staples",companyName:"Mondelez International Inc",companySymbol:"MDLZ",companyId:65,volatility:"stable"},MS:{companyIndustry:"Financials",companyName:"Morgan Stanley",companySymbol:"MS",companyId:66,volatility:"stable"},NFLX:{companyIndustry:"Communication Services",companyName:"Netflix Inc",companySymbol:"NFLX",companyId:67,volatility:"aggresive"},NEE:{companyIndustry:"Utilities",companyName:"NextEra Energy Inc",companySymbol:"NEE",companyId:68,volatility:"stable"},NKE:{companyIndustry:"Consumer Discretionary",companyName:"Nike Inc",companySymbol:"NKE",companyId:69,volatility:"stable"},NVDA:{companyIndustry:"Information Technology",companyName:"NVIDIA Corporation",companySymbol:"NVDA",companyId:70,volatility:"aggresive"},ORCL:{companyIndustry:"Information Technology",companyName:"Oracle Corporation",companySymbol:"ORCL",companyId:71,volatility:"stable"},PYPL:{companyIndustry:"Information Technology",companyName:"Paypal Holdings Inc",companySymbol:"PYPL",companyId:72,volatility:"stable"},PEP:{companyIndustry:"Consumer Staples",companyName:"PepsiCo, Inc.",companySymbol:"PEP",companyId:73,volatility:"stable"},PFE:{companyIndustry:"Health Care",companyName:"Pfizer Inc.",companySymbol:"PFE",companyId:74,volatility:"stable"},PM:{companyIndustry:"Consumer Staples",companyName:"Philip Morris International Inc.",companySymbol:"PM",companyId:75,volatility:"stable"},PG:{companyIndustry:"Consumer Staples",companyName:"Procter & Gamble Co",companySymbol:"PG",companyId:76,volatility:"stable"},PLD:{companyIndustry:"Real Estate",companyName:"Prologis Inc",companySymbol:"PLD",companyId:77,volatility:"stable"},QCOM:{companyIndustry:"Information Technology",companyName:"QUALCOMM, Inc.",companySymbol:"QCOM",companyId:78,volatility:"stable"},RTX:{companyIndustry:"Industrials",companyName:"Rtx A/S",companySymbol:"RTX",companyId:79,volatility:"stable"},REGN:{companyIndustry:"Health Care",companyName:"Regeneron Pharmaceuticals Inc",companySymbol:"REGN",companyId:80,volatility:"aggresive"},SPGI:{companyIndustry:"Financials",companyName:"S&P Global Inc",companySymbol:"SPGI",companyId:81,volatility:"aggresive"},CRM:{companyIndustry:"Information Technology",companyName:"salesforce.com, inc.",companySymbol:"CRM",companyId:82,volatility:"stable"},NOW:{companyIndustry:"Information Technology",companyName:"ServiceNow",companySymbol:"NOW",companyId:83,volatility:"aggresive"},SBUX:{companyIndustry:"Consumer Discretionary",companyName:"Starbucks Corporation",companySymbol:"SBUX",companyId:84,volatility:"stable"},TGT:{companyIndustry:"Consumer Discretionary",companyName:"Target Corporation",companySymbol:"TGT",companyId:85,volatility:"stable"},TXN:{companyIndustry:"Information Technology",companyName:"Texas Instruments Incorporated",companySymbol:"TXN",companyId:86,volatility:"stable"},TMO:{companyIndustry:"Health Care",companyName:"Thermo Fisher Scientific Inc.",companySymbol:"TMO",companyId:87,volatility:"aggresive"},TJX:{companyIndustry:"Consumer Discretionary",companyName:"TJX Companies Inc",companySymbol:"TJX",companyId:88,volatility:"stable"},UNP:{companyIndustry:"Industrials",companyName:"Union Pacific Corporation",companySymbol:"UNP",companyId:89,volatility:"stable"},UNH:{companyIndustry:"Health Care",companyName:"UnitedHealth Group Inc",companySymbol:"UNH",companyId:90,volatility:"aggresive"},UPS:{companyIndustry:"Industrials",companyName:"United Parcel Service, Inc.",companySymbol:"UPS",companyId:91,volatility:"stable"},VZ:{companyIndustry:"Communication Services",companyName:"Verizon Communications Inc.",companySymbol:"VZ",companyId:92,volatility:"stable"},VRTX:{companyIndustry:"Health Care",companyName:"Vertex Pharmaceuticals Incorporated",companySymbol:"VRTX",companyId:93,volatility:"stable"},V:{companyIndustry:"Information Technology",companyName:"Visa Inc",companySymbol:"V",companyId:94,volatility:"stable"},WMT:{companyIndustry:"Consumer Staples",companyName:"Walmart Inc",companySymbol:"WMT",companyId:95,volatility:"stable"},DIS:{companyIndustry:"Communication Services",companyName:"Walt Disney Co",companySymbol:"DIS",companyId:96,volatility:"stable"},WFC:{companyIndustry:"Financials",companyName:"Wells Fargo & Co",companySymbol:"WFC",companyId:97,volatility:"stable"},ZTS:{companyIndustry:"Health Care",companyName:"Zoetis Inc",companySymbol:"ZTS",companyId:98,volatility:"stable"},"^GSPC":{companyIndustry:"all",companyName:"sp500_index",companySymbol:"^GSPC",companyId:99,volatility:"aggresive"}},B=Object(i.a)((function(e){return{root:{flexGrow:1},brandButton:{textTransform:"none",marginRight:e.spacing(2)},rightButtons:{marginLeft:"auto",display:"inline-flex"},iconSize:{width:"26px",height:"26px"},accountButtons:{display:"inline-flex"},dashboardButton:{marginRight:e.spacing(1)}}}));function A(e){var a=B(),t=n.a.useState(!1),o=Object(l.a)(t,2),c=(o[0],o[1],n.a.useState(!1)),r=Object(l.a)(c,2),i=(r[0],r[1],n.a.useState(!1)),p=Object(l.a)(i,2),u=p[0],d=p[1],g=n.a.useState(""),f=Object(l.a)(g,2),b=f[0];f[1];return n.a.createElement("div",{className:a.root},n.a.createElement(s.a,{position:"static"},n.a.createElement(P,{isOpen:u,handleClose:function(){d(!1)},message:b}),n.a.createElement(m.a,null,n.a.createElement(y.a,{className:a.brandButton,color:"inherit",size:"large",onClick:function(){window.location.pathname="./"},startIcon:n.a.createElement("img",{alt:"",className:a.iconSize,src:"../static/logo26.png"})},"HuggingMoney"),n.a.createElement("section",{className:a.rightButtons},void 0==e.userData.userEmail?n.a.createElement(y.a,{color:"inherit",onClick:function(e){window.location.pathname="./login"}},"Login"):n.a.createElement("div",{className:a.accountButtons},n.a.createElement(y.a,{color:"inherit",className:a.dashboardButton,onClick:function(){window.location.pathname="./dashboard"}},"Dashboard"),n.a.createElement(E,{setUserData:e.setUserData,userData:e.userData}))))))}var L=t(84),H=t(18),R=t.n(H),G=t(34),F=t(17),W=t(338),U=t(347),V=t(335),X=t(331),z=t(146),J=Object(i.a)((function(e){return{dialogInputBox:{margin:e.spacing(0,0,2)},dialogActions:{display:"flex",margin:e.spacing(0,2,2)},errorMessage:{color:"#f44336",margin:e.spacing(0,2,0)},circleProgress:{zIndex:999,position:"absolute",top:"50%",left:"50%",marginTop:"-24px",marginLeft:"-24px"}}}));function K(e){var a=J(),t=n.a.useState(!1),o=Object(l.a)(t,2),c=o[0],r=(o[1],n.a.useState(!1)),i=Object(l.a)(r,2),s=i[0],m=i[1],p=n.a.useState(""),u=Object(l.a)(p,2),d=u[0],g=u[1],f=n.a.useState(""),b=Object(l.a)(f,2),I=b[0],v=b[1],S=n.a.useRef(),h=function(){S.current.value.length<1?(m(!0),g("Portfolio's name cannot be empty")):(m(!1),g(""))},C=function(){var a=Object(G.a)(R.a.mark((function a(t){return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:h(),v(""),S.current.value.length>0&&e.createNewPortfolio(S.current.value);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(k.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},n.a.createElement(z.a,{in:c,unmountOnExit:!0},n.a.createElement(X.a,{className:a.circleProgress})),n.a.createElement(O.a,{id:"form-dialog-title"},"Create New Portfolio"),n.a.createElement(x.a,null,n.a.createElement(U.a,{autoFocus:!0,inputRef:S,margin:"dense",id:"portfolioName",label:"Portfolio name",type:"text",variant:"outlined",fullWidth:!0,error:s,helperText:d,className:a.dialogInputBox,onBlur:function(){h()}}),n.a.createElement(D.a,{className:a.errorMessage},I)),n.a.createElement(V.a,{className:a.dialogActions},n.a.createElement(y.a,{variant:"contained",onClick:C,color:"primary"},"Create"))))}var _=t(346),Z=t(280),Y=t(336),Q=t(337),q=t(133),$=t.n(q),ee=Object(i.a)((function(e){return{listItemText:{textOverflow:"ellipsis"}}}));function ae(e){var a=ee();return n.a.createElement(Z.a,{button:!0,alignItems:"flex-start",onClick:function(){console.log(e.companySymbol),e.stockListItemOnclick(e.companySymbol)}},n.a.createElement(Y.a,{classes:{primary:a.listItemText},primary:e.companyName,secondary:e.companySymbol}),n.a.createElement(Q.a,{edge:"end","aria-label":"delete",onClick:function(){e.removeSelectedStock(e.companyId)}},n.a.createElement($.a,null)))}var te=t(142),oe=t(339),ne=Object(i.a)((function(e){return{stockComponent:{margin:e.spacing(0,0,2)},listSubHeader:{textAlign:"initial"},listTitle:{margin:e.spacing(1,1,1),display:"inline-flex"},saveButton:{marginLeft:"auto",height:"36px",width:"64px"},emptyText:{margin:e.spacing(2,0,2),textAlign:"center"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var ce=function(e){var a=ne(),t=function(a){var t=Array.from(e.selectedStocks),o=t.findIndex((function(e){return e.companyId===a}));if(-1!==o){t.splice(o,1);var n=t.map((function(e,a,t){return e.companySymbol}));e.setSelectedStocks(n)}},o=function(a){console.log(a),a===e.currentSelectedStock&&e.setCurrentSelectedStock(a)},c=function(e){var a=e.data,c=e.index,r=e.style,l=a[c];return n.a.createElement("div",{style:r},n.a.createElement(ae,{companyName:l.companyName,companySymbol:l.companySymbol,companyId:l.companyId,removeSelectedStock:t,stockListItemOnclick:o}))};return n.a.createElement(_.a,{className:a.stockComponent,component:W.a,container:!0,direction:"column"},n.a.createElement(W.a,{item:!0,className:a.listTitle},n.a.createElement(D.a,{variant:"h6"},"Stocks"),n.a.createElement(y.a,{className:a.saveButton,variant:"outlined",disabled:e.saveButtonLoading,onClick:function(){e.savePortfolio()}},e.saveButtonLoading?n.a.createElement(X.a,{size:24,className:a.buttonProgress}):"Save")),n.a.createElement(oe.a,null),e.selectedStocks.length>0?n.a.createElement(te.a,{height:520,itemSize:60,itemCount:e.selectedStocks.length,itemData:e.selectedStocks},c):n.a.createElement(D.a,{className:a.emptyText},"This portfolio is empty"))},re=Object(i.a)((function(e){var a;return{root:(a={height:"100vh",padding:e.spacing(1,1,1),flexGrow:1},Object(F.a)(a,e.breakpoints.up("xs"),{width:"60vw"}),Object(F.a)(a,e.breakpoints.up("md"),{width:"50vw"}),Object(F.a)(a,e.breakpoints.up("lg"),{width:"25vw"}),Object(F.a)(a,"position","fixed"),Object(F.a)(a,"zIndex",1400),Object(F.a)(a,"background","white"),a)}}));function le(e){var a=re();return n.a.createElement(_.a,{className:a.root,boxShadow:1},n.a.createElement(ce,{selectedStocks:e.selectedStocks,setSelectedStocks:e.setSelectedStocks,currentSelectedStock:e.currentSelectedStock,setCurrentSelectedStock:e.setCurrentSelectedStock,savePortfolio:e.savePortfolio,saveButtonLoading:e.saveButtonLoading}))}var ie=t(47),se=t(348),me=t(143),ye=Object(i.a)((function(e){return{searchBox:{display:"flex",alignItems:"center",minWidth:300}}}));var pe=function(e){var a=e.companyData,t=e.selectedStocks,o=e.setSelectedStocks,c=ye(),r=function(a){if(console.log(a),void 0!=e.userData.userId&&void 0!=e.currentSelectedPortfolio)if(null!=t.find((function(e){return e.companyId===a.companyId})))e.setDialogTitle("Error"),e.setDialogMessage("The stock is already in the list"),e.openMessageDialog();else{var n=t.map((function(e,a,t){return e.companySymbol}));o([].concat(Object(L.a)(n),[a.companySymbol])),e.setDialogTitle("Success"),e.setDialogMessage("Add "+a.companyName+" to your portfolio"),e.openMessageDialog()}else void 0==e.userData.userId?(e.setDialogTitle("Error"),e.setDialogMessage("Please login first"),e.openMessageDialog()):void 0==e.currentSelectedPortfolio&&(e.setDialogTitle("Error"),e.setDialogMessage("Create portfolio first"),e.openMessageDialog())};return n.a.createElement("div",null,n.a.createElement(se.a,{freeSolo:!0,className:c.searchBox,id:"search-box",disableClearable:!0,size:"small",groupBy:function(e){return e.volatility},onChange:function(e,a){r(a)},options:a.sort((function(e,a){return e.volatility===a.volatility?0:"stable"===e.volatility?-1:"stable"===a.volatility?1:void 0})),getOptionLabel:function(e){return e.companyName},renderOption:function(e){return n.a.createElement(n.a.Fragment,null,e.companyName," (",e.companySymbol,")")},filterOptions:function(e,a){var t=a.inputValue;return Object(me.a)(e,t,{keys:["companyName","companySymbol"]}).sort((function(e,a){return e.volatility===a.volatility?0:"stable"===e.volatility?-1:"stable"===a.volatility?1:void 0}))},renderInput:function(e){return n.a.createElement(U.a,Object.assign({},e,{label:"Add company",margin:"normal",variant:"outlined",InputProps:Object(ie.a)(Object(ie.a)({},e.InputProps),{},{type:"search"})}))}}))},ue=t(136),de=t.n(ue),ge=t(135),fe=t.n(ge),be=t(340),Ie=Object(i.a)((function(e){return{root:{display:"flex"},expandButton:{color:"inherit"},popperRoot:{zIndex:1400},popperMenuItem:{paddingRight:"8px"}}}));function ve(e){var a=Ie(),t=n.a.useState(!1),o=Object(l.a)(t,2),c=o[0],r=o[1],i=n.a.useRef(null),s=function(e){i.current&&i.current.contains(e.target)||r(!1)},m=function(a){null==e.userData.userId?(e.setDialogTitle("Error"),e.setDialogMessage("Please login first"),e.openMessageDialog()):e.handleCreatePortfolioDialogOpen(),s(a)},I=function(e){"Tab"===e.key&&(e.preventDefault(),r(!1))},v=n.a.useRef(c);n.a.useEffect((function(){!0===v.current&&!1===c&&i.current.focus(),v.current=c}),[c]);var S=e.userPortfolios.map((function(a){return n.a.createElement(f.a,{key:a.portfolioId.toString(),onClick:function(t){!function(a,t){e.setCurrentSelectedPortfolio(t),console.log(t);var o=e.userPortfolios.find((function(e,a,o){return e.portfolioId===t})).portfolioStocks;e.setSelectedStocks(o),e.setSideBarExpand(!0),s(a)}(t,a.portfolioId)}},n.a.createElement(D.a,{variant:"inherit",noWrap:!0},a.portfolioName))}));return n.a.createElement("div",{className:a.root},n.a.createElement(be.a,{title:"Portfolio Stocks"},n.a.createElement(Q.a,{edge:"start",className:a.menuButton,onClick:function(){e.setSideBarExpand(!e.isSideBarExpanded)},color:"inherit","aria-label":"menu"},n.a.createElement(fe.a,null))),n.a.createElement(y.a,{endIcon:n.a.createElement(C.a,null),ref:i,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",className:a.expandButton,onClick:function(){r((function(e){return!e}))}},n.a.createElement(D.a,{variant:"inherit",noWrap:!0},void 0==e.currentSelectedPortfolio||0===e.userPortfolios.length?"My Portfolios":e.userPortfolios.find((function(a,t,o){return a.portfolioId===e.currentSelectedPortfolio})).portfolioName)),n.a.createElement(g.a,{className:a.popperRoot,open:c,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,o=e.placement;return n.a.createElement(u.a,Object.assign({},t,{style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),n.a.createElement(d.a,null,n.a.createElement(p.a,{onClickAway:s},n.a.createElement(b.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:I},S,n.a.createElement(oe.a,{light:!0,component:"li"}),n.a.createElement(f.a,{onClick:m},n.a.createElement(D.a,{variant:"inherit",noWrap:!0,className:a.popperMenuItem},"Create New Portfolio"),n.a.createElement(de.a,{fontSize:"small",className:a.popperMenuItem}))))))})))}var Se=t(138),he=t.n(Se),Ce=t(137),Ne=t.n(Ce),Ee=t(139),ke=t.n(Ee),Oe=Object(i.a)((function(e){return{root:{marginLeft:"auto",display:"inline-flex"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}}));function xe(e){var a=Oe();return n.a.createElement("div",{className:a.root},n.a.createElement(be.a,{title:"Weight"},n.a.createElement(Q.a,{edge:"start",color:"inherit",onClick:function(){e.setSectionCode(2)},"aria-label":"asset weight"},n.a.createElement(Ne.a,null))),n.a.createElement(be.a,{title:"Performance"},n.a.createElement(Q.a,{edge:"start",color:"inherit",onClick:function(){e.setSectionCode(1)},"aria-label":"show performance"},n.a.createElement(he.a,null))),n.a.createElement(be.a,{title:"News"},n.a.createElement(Q.a,{edge:"start",color:"inherit",onClick:function(){e.setSectionCode(0)},"aria-label":"show News"},n.a.createElement(ke.a,null))))}var De=t(350),Te=Object(i.a)((function(e){return{root:{width:"100%",padding:e.spacing(1,2,1),boxShadow:"0 0 1px 1px rgba(0, 0, 0 ,.1)"},menuButtons:{display:"inline-flex"}}}));function Pe(e){var a=Te();return n.a.createElement(W.a,{className:a.root,container:!0,direction:"row",justify:"flex-start",alignItems:"center"},n.a.createElement(W.a,{item:!0,xs:12,sm:3,className:a.menuButtons},n.a.createElement(ve,{isSideBarExpanded:e.isSideBarExpanded,setSideBarExpand:e.setSideBarExpand,setSelectedStocks:e.setSelectedStocks,userPortfolios:e.userPortfolios,setUserPortfolios:e.setUserPortfolios,currentSelectedPortfolio:e.currentSelectedPortfolio,setCurrentSelectedPortfolio:e.setCurrentSelectedPortfolio,handleCreatePortfolioDialogOpen:e.handleCreatePortfolioDialogOpen,setDialogTitle:e.setDialogTitle,setDialogMessage:e.setDialogMessage,openMessageDialog:e.openMessageDialog,userData:e.userData}),n.a.createElement(De.a,{smUp:!0},n.a.createElement(xe,{showSearchButton:!0,setSectionCode:e.setSectionCode}))),n.a.createElement(W.a,{item:!0,container:!0,xs:12,sm:6,justify:"center"},n.a.createElement(pe,{userData:e.userData,selectedStocks:e.selectedStocks,setSelectedStocks:e.setSelectedStocks,companyData:e.companyData,setDialogTitle:e.setDialogTitle,setDialogMessage:e.setDialogMessage,openMessageDialog:e.openMessageDialog,currentSelectedPortfolio:e.currentSelectedPortfolio})),n.a.createElement(De.a,{xsDown:!0},n.a.createElement(W.a,{item:!0,container:!0,sm:3,justify:"center"},n.a.createElement(xe,{setSectionCode:e.setSectionCode}))))}var Me=t(341),we=t(342),je=Object(i.a)((function(e){return{root:{width:"100%",margin:e.spacing(0,0,2)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},sentence:Object(ie.a)({},e.typography.body1),keySentence:Object(ie.a)(Object(ie.a)({},e.typography.body1),{},{backgroundColor:"rgba(255, 229, 100, 0.2)"})}}));function Be(e){var a=je();return n.a.createElement(Me.a,{className:a.root,variant:"outlined"},n.a.createElement(we.a,null,n.a.createElement(D.a,{className:a.title,color:"textSecondary",gutterBottom:!0},e.companyName),n.a.createElement(D.a,{variant:"h5",component:"h2"},e.title),n.a.createElement(D.a,{className:a.pos,color:"textSecondary"},e.date),n.a.createElement(D.a,{variant:"body2",component:"p"},void 0!=e.paragraph&&n.a.createElement("div",null,e.paragraph.map((function(e,t){return e.isKeySentence?n.a.createElement("p",{key:t,className:a.keySentence},e.text):n.a.createElement("p",{key:t,className:a.sentence},e.text)}))))))}var Ae=Object(i.a)((function(e){return{root:{},listSubHeader:{textAlign:"initial"},listTitle:{margin:e.spacing(1,1,1),display:"inline-flex"},saveButton:{marginLeft:"auto",height:"36px",width:"64px"},emptyText:{margin:e.spacing(2,0,2),textAlign:"center"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var Le=function(e){var a=Ae();return n.a.createElement(W.a,{className:a.root,container:!0,direction:"column"},e.newsData.map((function(e){return n.a.createElement(Be,{key:e.id,date:e.date,title:e.title,companyName:e.companyName,paragraph:e.paragraph})})))},He=Object(i.a)((function(e){return{sectionRoot:{margin:e.spacing(2,0,2)},sectionTitle:{margin:e.spacing(0,0,2)},emptyText:{margin:e.spacing(2,0,2),textAlign:"center"}}}));function Re(e){var a=He();return n.a.createElement("div",{className:a.sectionRoot},n.a.createElement(D.a,{className:a.sectionTitle,variant:"h5"},"News"),e.newsData.length>0?n.a.createElement(Le,{newsData:e.newsData}):n.a.createElement(D.a,{className:a.emptyText},"Add company to the portfolio to see news"))}var Ge=t(61),Fe=Object(i.a)((function(e){return{sectionRoot:{margin:e.spacing(2,0,2)},sectionTitle:{margin:e.spacing(0,0,2)},chartTitle:{margin:e.spacing(2,0,2)}}}));function We(e){var a=Fe();return n.a.createElement("div",{className:a.sectionRoot},n.a.createElement(D.a,{className:a.sectionTitle,variant:"h5"},"Performance"),n.a.createElement(Ge.Line,{data:e.portfolioPerformances}),n.a.createElement(D.a,{className:a.chartTitle,variant:"h5"},"History Weights"),n.a.createElement(Ge.Line,{data:e.historyWeights}))}var Ue=t(349),Ve=t(353),Xe=t(344),ze=t(333),Je=t(282),Ke=t(332),_e=t(334),Ze=t(343),Ye=Object(i.a)((function(e){return{sectionRoot:{margin:e.spacing(2,0,2)},sectionTitle:{margin:e.spacing(0,0,2)},chartTitle:{margin:e.spacing(2,0,2)},formControl:{margin:e.spacing(3)},button:{margin:e.spacing(1,1,0,0)}}}));function Qe(e){var a=Ye();return n.a.createElement("div",{className:a.sectionRoot},n.a.createElement(D.a,{className:a.sectionTitle,variant:"h5"},"Portfolio Weights"),n.a.createElement(W.a,{container:!0,justify:"center",alignItems:"center",direction:"column"},n.a.createElement(ze.a,null,n.a.createElement(_e.a,{htmlFor:"invest-money-input"},"Invest Money"),n.a.createElement(Ke.a,{id:"invest-money-input",value:e.investMoney,type:"number",onChange:function(a){e.setInvestMoney(parseInt(a.target.value))},startAdornment:n.a.createElement(Ze.a,{position:"start"},"$")})),n.a.createElement(ze.a,{component:"fieldset",className:a.formControl},n.a.createElement(Je.a,{component:"legend"},"Model select"),n.a.createElement(Ve.a,{"aria-label":"model",name:"model",value:e.selectedModel,onChange:function(a){e.setModel(a.target.value)}},n.a.createElement(Xe.a,{value:"basic",control:n.a.createElement(Ue.a,null),label:"Markowitz"}),n.a.createElement(Xe.a,{value:"blacklitterman",control:n.a.createElement(Ue.a,null),label:"Black litterman"}),n.a.createElement(Xe.a,{value:"equalweight",control:n.a.createElement(Ue.a,null),label:"Equal Weight"})),n.a.createElement(y.a,{type:"submit",variant:"outlined",color:"primary",className:a.button,onClick:function(){e.getWeights(e.selectedModel,e.selectedStocks)}},"Calculate Weight"))),e.portfolioWeights.hasOwnProperty("labels")&&n.a.createElement("div",null,n.a.createElement(D.a,{className:a.chartTitle,variant:"h5"},"Current Weights"),n.a.createElement(Ge.Doughnut,{data:e.portfolioWeights})))}var qe=t(281),$e=t(141),ea=Object(i.a)((function(e){var a;return{portfolioPage:(a={height:"calc(100% - 56px)"},Object(F.a)(a,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{height:"calc(100% - 48px)"}),Object(F.a)(a,e.breakpoints.up("sm"),{height:"calc(100% - 64px)"}),Object(F.a)(a,"display","flex"),Object(F.a)(a,"flexDirection","column"),a),title:{textAlign:"initial",margin:e.spacing(4,0,2)},portfolioContent:{flex:"auto",overflowY:"scroll"},companyName:{margin:e.spacing(4,0,2)},sideBar:{zIndex:1300},backdrop:{zIndex:1600,color:"#fff"}}}));var aa=function(e){var a=ea(),t=n.a.useState([]),o=Object(l.a)(t,2),c=o[0],r=o[1],i=n.a.useState([]),s=Object(l.a)(i,2),m=s[0],y=s[1],p=j,u=n.a.useState([]),d=Object(l.a)(u,2),g=d[0],f=d[1],b=n.a.useState([]),I=Object(l.a)(b,2),v=I[0],S=I[1],h=n.a.useState(!1),C=Object(l.a)(h,2),N=C[0],E=C[1],k=n.a.useState(!1),O=Object(l.a)(k,2),x=O[0],D=O[1],T=n.a.useState(!1),B=Object(l.a)(T,2),A=B[0],H=B[1],F=n.a.useState(!1),U=Object(l.a)(F,2),V=U[0],z=U[1],J=n.a.useState(!1),_=Object(l.a)(J,2),Z=_[0],Y=(_[1],n.a.useState(!1)),Q=Object(l.a)(Y,2),q=Q[0],$=Q[1],ee=n.a.useState(""),ae=Object(l.a)(ee,2),te=ae[0],oe=ae[1],ne=n.a.useState(""),ce=Object(l.a)(ne,2),re=ce[0],ie=ce[1],se=n.a.useState(null),me=Object(l.a)(se,2),ye=me[0],pe=me[1],ue=n.a.useState("APPL"),de=Object(l.a)(ue,2),ge=de[0],fe=de[1],be=n.a.useState(2),Ie=Object(l.a)(be,2),ve=Ie[0],Se=Ie[1],he=n.a.useState({}),Ce=Object(l.a)(he,2),Ne=Ce[0],Ee=Ce[1],ke=n.a.useState(0),Oe=Object(l.a)(ke,2),xe=(Oe[0],Oe[1]),De=n.a.useState({}),Te=Object(l.a)(De,2),Me=Te[0],we=Te[1],je=n.a.useState({}),Be=Object(l.a)(je,2),Ae=Be[0],Le=Be[1],He=n.a.useState([]),Ge=Object(l.a)(He,2),Fe=Ge[0],Ue=Ge[1],Ve=n.a.useState("basic"),Xe=Object(l.a)(Ve,2),ze=Xe[0],Je=Xe[1],Ke=n.a.useState(!1),_e=Object(l.a)(Ke,2),Ze=_e[0],Ye=_e[1],aa=n.a.useState(1),ta=Object(l.a)(aa,2),oa=ta[0],na=ta[1],ca=function(){Ye(!1)},ra=function(a){if(void 0!=e.userData.userId){console.log(v),console.log(a);var t=[];if(console.log(p),void 0!=p)for(var o=0;o<a.length;o++)t.push(p[a[o]]);console.log(t),S(t)}else console.log("Please login first"),ie("Please login first"),la()},la=function(){H(!0)},ia=function(){$(!1)},sa=function(){var e=Object(G.a)(R.a.mark((function e(){var a,t,o,n,c,l,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET"},e.prev=1,console.log("Try to get company data"),e.next=5,fetch(M+"/company",a);case 5:if(!(t=e.sent).ok){e.next=13;break}return e.next=9,t.json();case 9:if(o=e.sent,console.log("Company data:"),console.log(o),o.isSuccess){for(n={},c=[],l=0;l<o.data.length;l++)i={companyIndustry:o.data[l].industry,companyName:o.data[l].company_name,companySymbol:o.data[l].symbol,companyId:o.data[l].id_,volatility:o.data[l].volatility},n[o.data[l].symbol]=i,c.push(i);r(c),console.log("newCompanyDataMapping"),console.log(n)}else alert(o.errorMsg);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("Fetch company data failed",e.t0);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}}),e,null,[[1,15,18,20]])})));return function(){return e.apply(this,arguments)}}(),ma=function(e){return{label:"",fill:!1,lineTension:.1,backgroundColor:w[e],borderColor:w[e],borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:w[e],pointBackgroundColor:"#fff",pointBorderWidth:0,pointHoverRadius:5,pointHoverBackgroundColor:w[e],pointHoverBorderColor:w[e],pointHoverBorderWidth:2,pointRadius:0,pointHitRadius:5,data:[]}},ya=function(e,a,t){for(var o=[],n=[],c=[],r=[],l=Math.floor(t.length/42),i=[],s=0;s<a.length;s++){for(var m=ma(s),y=a[s].slice(1),p=[],u=0;u<y.length;u+=l)p.push(y[u]),0===s&&i.push(t[u]);m.data=p,m.label=e[s];var d=a[s][a[s].length-1];c.push(e[s]+": "+d+"%"),n.push(d),r.push(w[s]),o.push(m)}var g={labels:i,datasets:o},f={labels:c,datasets:[{data:n,backgroundColor:r,hoverBackgroundColor:r}]};console.log(f),console.log(g),we(f),Le(g)},pa=function(e,a,t){for(var o=Math.floor(t.length/42),n=[],c=[],r=[],l=ma(0),i=ma(1),s=e.slice(1),m=a.slice(1),y=0;y<e.length;y+=o)c.push(s[y]),r.push(m[y]),n.push(t[y]);l.label="History performance",l.data=c,i.label="SP500 Index",i.data=r;var p={labels:n,datasets:[l,i]};console.log(p),console.log(s[s.length-1]),xe(s[s.length-1]),Ee(p)},ua=function(){var e=Object(G.a)(R.a.mark((function e(a,t){var o,n,c,r,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==(o=a)&&(o="basic"),n=t.map((function(e,a,t){return e.companySymbol})),console.log(oa),c={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({stocks:n,model:o,money:oa,portfolioId:ye})},e.prev=5,!(n.length>0)){e.next=19;break}return console.log("Try to get weights"),Ye(!Ze),e.next=11,fetch(M+"/portfolio/test",c);case 11:if(!(r=e.sent).ok){e.next=19;break}return e.next=15,r.json();case 15:l=e.sent,console.log("Weight response"),console.log(l),l.isSuccess?(pa(l.data.all_values,l.data.SP500,l.data.date),ya(n,l.data.all_weights,l.data.date),Ue(l.data.date)):alert(l.errorMsg);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),console.log("Fetch news failed",e.t0);case 24:return e.prev=24,ca(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[5,21,24,27]])})));return function(a,t){return e.apply(this,arguments)}}(),da=function(){var e=Object(G.a)(R.a.mark((function e(a){var t,o,n,c,r,l,i,s,m,p,u,d,g;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.map((function(e,a,t){return e.companySymbol})),o={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({companySymbols:t})},e.prev=2,!(t.length>0)){e.next=13;break}return console.log("Try to get news"),e.next=7,fetch(M+"/news",o);case 7:if(!(n=e.sent).ok){e.next=13;break}return e.next=11,n.json();case 11:if((c=e.sent).isSuccess){for(console.log("News"),console.log(c),r=[],l=0;l<c.data.length;l++){for(i=[],s=0;s<c.data[l].paragraph.length;s++)m={isKeySentence:!1,text:c.data[l].paragraph[s]},i.push(m);for(p=0;p<c.data[l].keysent.length;p++)""!=c.data[l].keysent[p]&&(u=c.data[l].keysent[p])>=0&&u<i.length&&(console.log(l,u),i[u].isKeySentence=!0);d=new Date(c.data[l].date),g={date:d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate(),companyName:c.data[l].company,paragraph:i,title:c.data[l].title,id:c.data[l].id},r.push(g)}console.log(r),y(r)}else alert(c.errorMsg);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("Fetch news failed",e.t0);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}}),e,null,[[2,15,18,20]])})));return function(a){return e.apply(this,arguments)}}(),ga=function(){var a=Object(G.a)(R.a.mark((function a(t){var o,n,c,r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({portfolioName:t,userId:e.userData.userId})},a.prev=1,a.next=4,fetch(M+"/portfolio/create",o);case 4:if(!(n=a.sent).ok){a.next=11;break}return a.next=8,n.json();case 8:c=a.sent,console.log(c),c.isSuccess?(r={portfolioId:c.data.id,userId:c.data.user_id,portfolioName:c.data.portfolio_name,portfolioStocks:c.data.portfolio_stocks},f([].concat(Object(L.a)(g),[r])),ia()):alert(c.errorMsg);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),alert("create new portfolio failed",a.t0);case 16:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}(),fa=function(){var a=Object(G.a)(R.a.mark((function a(){var t,o,n,c,r,l,i;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0==e.userData.userId){a.next=22;break}return t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:e.userData.userId})},a.prev=2,console.log("Try to get user portfolio data"),a.next=6,fetch(M+"/portfolio",t);case 6:if(!(o=a.sent).ok){a.next=14;break}return a.next=10,o.json();case 10:if(n=a.sent,console.log("user portfolio data"),console.log(n),n.isSuccess){if(E(!0),n.data.length>0){for(c=[],r=0;r<n.data.length;r++)l=void 0==n.data[r].mode?"basic":n.data[r].mode,i={portfolioId:n.data[r].id,userId:n.data[r].user_id,portfolioName:n.data[r].portfolio_name,portfolioStocks:n.data[r].portfolio_stocks,portfolioMode:l},c.push(i);f(c)}}else alert(n.errorMsg),E(!1);case 14:a.next=20;break;case 16:a.prev=16,a.t0=a.catch(2),E(!1),console.log("Fetch company data failed",a.t0);case 20:return a.prev=20,a.finish(20);case 22:case"end":return a.stop()}}),a,null,[[2,16,20,22]])})));return function(){return a.apply(this,arguments)}}(),ba=function(){var a=Object(G.a)(R.a.mark((function a(){var t,o,n,c,r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0==e.userData.userId||void 0==ye){a.next=26;break}return t=v.map((function(e,a,t){return e.companySymbol})),console.log(t),o={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({portfolioId:ye,portfolioStocks:t})},a.prev=4,console.log("Try to save portfolio: "+ye),console.log(o),z(!0),a.next=10,fetch(M+"/portfolio/save",o);case 10:if(!(n=a.sent).ok){a.next=16;break}return a.next=14,n.json();case 14:(c=a.sent).isSuccess?((r=Array.from(g)).forEach((function(e,a,o){e.portfolioId===ye&&(e.portfolioStocks=t)})),console.log(r),f(r),oe("Success"),ie("Portfolio stocks has been updated!"),la()):alert(c.errorMsg);case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(4),console.log("Fetch company data failed",a.t0);case 21:return a.prev=21,z(!1),a.finish(21);case 24:a.next=27;break;case 26:void 0==e.userData.userId?(oe("Error"),ie("Please login first"),la()):void 0==ye&&(oe("Error"),ie("Create portfolio first"),la());case 27:case"end":return a.stop()}}),a,null,[[4,18,21,24]])})));return function(){return a.apply(this,arguments)}}();return n.a.useEffect((function(){console.log(ve)}),[ve]),n.a.useEffect((function(){if(g.length>0&&void 0!=ye){console.log(ye),console.log(g);var e=g.find((function(e,a,t){return e.portfolioId===ye})).portfolioMode;Je(e)}}),[ye]),n.a.useEffect((function(){N||sa(),void 0!=e.userData.userId&&fa()}),[e.userData]),n.a.useEffect((function(){g.length>0&&void 0==ye&&(pe(g[0].portfolioId),ra(g[0].portfolioStocks))}),[g]),n.a.useEffect((function(){g.length>0&&v.length>0&&void 0!=ye&&ra(g[ye].portfolioStocks)}),[p]),n.a.useEffect((function(){console.log("newssection"),void 0!=v&&v.length>0&&(console.log("getNews"),da(v),!1===Me.hasOwnProperty("labels")&&ua(ze,v))}),[v]),n.a.createElement("div",{className:a.portfolioPage},n.a.createElement(qe.a,{className:a.backdrop,open:Ze,onClick:ca},n.a.createElement(X.a,{color:"inherit"})),n.a.createElement(P,{isOpen:A,handleClose:function(){H(!1)},title:te,message:re}),n.a.createElement(K,{isOpen:q,handleClose:ia,userPortfolios:g,setUserPortfolios:f,setCurrentSelectedPortfolio:pe,createNewPortfolio:ga,userData:e.userData}),n.a.createElement(Pe,{selectedStocks:v,setSelectedStocks:ra,companyData:c,setDialogTitle:oe,setDialogMessage:ie,isSideBarExpanded:x,setSideBarExpand:D,openMessageDialog:la,userPortfolios:g,setUserPortfolios:f,currentSelectedPortfolio:ye,setCurrentSelectedPortfolio:pe,handleCreatePortfolioDialogOpen:function(){$(!0)},userData:e.userData,setSectionCode:Se}),n.a.createElement($e.a.div,{className:a.sideBar,initial:"closed",animate:x?"open":"closed",variants:{open:{opacity:1,x:0,transition:{duration:.5}},closed:{opacity:.5,x:"-100%",transition:{duration:1}}}},n.a.createElement(le,{selectedStocks:v,setSelectedStocks:ra,currentSelectedStock:ge,setCurrentSelectedStock:fe,savePortfolio:ba,saveButtonLoading:V,saveButtonDisabled:Z})),n.a.createElement(W.a,{item:!0,container:!0,direction:"row",justify:"center",alignItems:"stretch",className:a.portfolioContent},n.a.createElement(W.a,{item:!0,xs:10,md:6},function(){switch(ve){case 0:return n.a.createElement(Re,{newsData:m});case 1:return n.a.createElement(We,{portfolioPerformances:Ne,portfolioWeights:Me,historyWeights:Ae,backtestDates:Fe});case 2:default:return n.a.createElement(Qe,{portfolioWeights:Me,historyWeights:Ae,backtestDates:Fe,selectedModel:ze,setModel:Je,getWeights:ua,selectedStocks:v,setInvestMoney:na,investMoney:oa})}}())))};Object(i.a)((function(e){return Object(F.a)({masthead:{background:"url(../static/landing_img2.jpg)",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",marginLeft:"auto",marginRight:"auto",height:"100vh",maxHeight:"1600px",padding:e.spacing(0,2,0)},mastheadText:{margin:e.spacing(0,4,0)},mastheadButton:{backgroundColor:"#81bc44",color:"white"}},"mastheadText",{color:"white"})}));var ta=Object(i.a)((function(e){return{root:{height:"100%"},title:{textAlign:"initial",margin:e.spacing(4,0,2)}}}));var oa=function(){var e=ta(),a=new S.a,t=n.a.useState({userId:a.get("userId"),userName:a.get("userName"),userEmail:a.get("userEmail")}),o=Object(l.a)(t,2),c=o[0],r=o[1],i=n.a.useState(0),s=Object(l.a)(i,2),m=(s[0],s[1]);return n.a.useEffect((function(){void 0==c.userId&&(window.location.pathname="./login")}),[c]),n.a.createElement("div",{className:e.root},n.a.createElement(A,{userData:c,setUserData:r,switchPage:m}),n.a.createElement(aa,{userData:c}))},na=t(140),ca=Object(na.a)({palette:{primary:{main:"#424242"},secondary:{main:"#424242"}},themeName:"Tundora Tundora Dog"}),ra=t(345);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.Fragment,null,n.a.createElement(ra.a,{theme:ca},n.a.createElement(oa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[168,1,2]]]);
//# sourceMappingURL=main.70ae7e95.chunk.js.map