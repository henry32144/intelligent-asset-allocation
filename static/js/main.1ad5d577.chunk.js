(this["webpackJsonpreact-web"]=this["webpackJsonpreact-web"]||[]).push([[0],{83:function(e,a,t){e.exports=t(96)},88:function(e,a,t){},89:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),c=t.n(o),i=(t(88),t(12)),l=(t(89),t(140)),s=t(150),u=t(151),m=t(142),p=t(146),g=t(145),d=t(67),h=t(144),f=t(162),E=t(161),v=t(62),b=t.n(v),w=t(29),y=t(63),x=t.n(y),N=Object(l.a)((function(e){return{root:{display:"flex"},accountButton:{color:"inherit"},popperStyle:{zIndex:"1400"}}}));function O(e){var a=N(),t=r.a.useState(!1),n=Object(i.a)(t,2),o=n[0],c=n[1],l=r.a.useRef(null),s=function(e){l.current&&l.current.contains(e.target)||c(!1)},u=function(a){e.setUserData({userId:null,userName:null,userEmail:null});var t=new w.a;t.remove("userId",{path:"/"}),t.remove("userName",{path:"/"}),t.remove("userEmail",{path:"/"}),s(a),window.location.pathname="./"};function v(e){"Tab"===e.key&&(e.preventDefault(),c(!1))}var y=r.a.useRef(o);return r.a.useEffect((function(){!0===y.current&&!1===o&&l.current.focus(),y.current=o}),[o]),r.a.createElement("div",{className:a.root},r.a.createElement("div",null,r.a.createElement(m.a,{startIcon:r.a.createElement(b.a,null),endIcon:r.a.createElement(x.a,null),ref:l,"aria-controls":o?"menu-list-grow":void 0,"aria-haspopup":"true",className:a.accountButton,onClick:function(){c((function(e){return!e}))}},void 0==e.userData.userName?"Account":e.userData.userName),r.a.createElement(h.a,{className:a.popperStyle,open:o,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return r.a.createElement(g.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),r.a.createElement(d.a,null,r.a.createElement(p.a,{onClickAway:s},r.a.createElement(E.a,{autoFocusItem:o,id:"menu-list-grow",onKeyDown:v},r.a.createElement(f.a,{onClick:u},"Logout")))))}))))}var j=t(147),k=t(148),S=t(149),D=t(69),I=Object(l.a)((function(e){return{message:{textAlign:"center",margin:e.spacing(0,0,2)}}}));function B(e){var a=I();return r.a.createElement("div",null,r.a.createElement(j.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},null!=e.title&&r.a.createElement(k.a,null,e.title),r.a.createElement(S.a,null,r.a.createElement(D.a,{className:a.message},e.message))))}var C=Object(l.a)((function(e){return{root:{flexGrow:1},brandButton:{textTransform:"none",marginRight:e.spacing(2)},rightButtons:{marginLeft:"auto",display:"inline-flex"},iconSize:{width:"26px",height:"26px"},accountButtons:{display:"inline-flex"},dashboardButton:{marginRight:e.spacing(1)}}}));function T(e){var a=C(),t=r.a.useState(!1),n=Object(i.a)(t,2),o=(n[0],n[1],r.a.useState(!1)),c=Object(i.a)(o,2),l=(c[0],c[1],r.a.useState(!1)),p=Object(i.a)(l,2),g=p[0],d=p[1],h=r.a.useState(""),f=Object(i.a)(h,2),E=f[0];f[1];return r.a.createElement("div",{className:a.root},r.a.createElement(s.a,{position:"static"},r.a.createElement(B,{isOpen:g,handleClose:function(){d(!1)},message:E}),r.a.createElement(u.a,null,r.a.createElement(m.a,{className:a.brandButton,color:"inherit",size:"large",onClick:function(){window.location.pathname="./"},startIcon:r.a.createElement("img",{alt:"",className:a.iconSize,src:"../static/logo26.png"})},"HuggingMoney"),r.a.createElement("section",{className:a.rightButtons},void 0==e.userData.userEmail?r.a.createElement(m.a,{color:"inherit",onClick:function(e){window.location.pathname="./login"}},"Login"):r.a.createElement("div",{className:a.accountButtons},r.a.createElement(m.a,{color:"inherit",className:a.dashboardButton,onClick:function(){window.location.pathname="./dashboard"}},"Dashboard"),r.a.createElement(O,{setUserData:e.setUserData,userData:e.userData}))))))}var R=t(37),P=t.n(R),U=t(52),A=t(155),L=t(158),W=t(152),z=t(156),M=t(159),F=t(154),J=t(153),q=t(99);function H(){return r.a.createElement(D.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(W.a,{color:"inherit",href:"https://github.com/henry32144/intelligent-asset-allocation/"},"HuggingMoney")," ",(new Date).getFullYear(),".")}var G=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),marginRight:e.spacing(1),marginLeft:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},inputBox:{margin:e.spacing(0,0,2)},submit:{margin:e.spacing(3,0,2)},imageIcon:{width:"60px",height:"60px"},errorMessage:{color:"#f44336",margin:e.spacing(0,2,0)},backdrop:{zIndex:1600,color:"#fff"}}}));function K(e){var a=G(),t=r.a.useState(!1),n=Object(i.a)(t,2),o=n[0],c=n[1],l=r.a.useState(!1),s=Object(i.a)(l,2),u=s[0],p=s[1],g=r.a.useState(!1),d=Object(i.a)(g,2),h=d[0],f=d[1],E=r.a.useState(""),v=Object(i.a)(E,2),b=v[0],y=v[1],x=r.a.useState(""),N=Object(i.a)(x,2),O=N[0],j=N[1],k=r.a.useState(""),S=Object(i.a)(k,2),I=S[0],B=S[1],C=r.a.useRef(),T=r.a.useRef(),R=function(){f(!1)},K=function(){C.current.value.length<1?(console.log("Email is empty"),c(!0),y("Email cannot be empty")):(c(!1),y(""))},Y=function(){T.current.value.length<1?(console.log("Password is empty"),p(!0),j("Password cannot be empty")):(p(!1),j(""))},$=function(){var a=Object(U.a)(P.a.mark((function a(t){var n,r,o,c,i,l,s;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(K(),Y(),B(""),!(C.current.value.length>0&&T.current.value.length>0)){a.next=23;break}return n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userEmail:C.current.value,userPassword:T.current.value})},a.prev=5,f(!h),a.next=9,fetch("http://127.0.0.1:5000/user/login",n);case 9:if(!(r=a.sent).ok){a.next=15;break}return a.next=13,r.json();case 13:(o=a.sent).isSuccess?(c=o.userId,i=o.userName,l=C.current.value,e.setUserData({userId:c,userName:i,userEmail:l}),(s=new w.a).set("userId",c,{path:"/"}),s.set("userName",i,{path:"/"}),s.set("userEmail",l,{path:"/"}),window.location.pathname="./dashboard"):B(o.errorMsg);case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(5),console.log("fetch failed",a.t0);case 20:return a.prev=20,R(),a.finish(20);case 23:case"end":return a.stop()}}),a,null,[[5,17,20,23]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(q.a,{className:a.backdrop,open:h,onClick:R},r.a.createElement(J.a,{color:"inherit"})),r.a.createElement(F.a,{component:"main",maxWidth:"xs"},r.a.createElement(A.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement("img",{className:a.imageIcon,src:"../static/logo80.png"}),r.a.createElement(D.a,{component:"h1",variant:"h5"},"Log In"),r.a.createElement("div",{className:a.form},r.a.createElement(L.a,{required:!0,name:"email",autoComplete:"email",autoFocus:!0,inputRef:C,margin:"normal",id:"email",label:"Email Address",type:"email",variant:"outlined",fullWidth:!0,error:o,helperText:b,className:a.inputBox,onBlur:function(){K()}}),r.a.createElement(L.a,{margin:"normal",required:!0,name:"password",autoComplete:"current-password",inputRef:T,id:"password",label:"Password",type:"password",variant:"outlined",fullWidth:!0,error:u,helperText:O,className:a.inputBox,onBlur:function(){Y()}}),r.a.createElement(D.a,{className:a.errorMessage},I),r.a.createElement(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:$,className:a.submit},"Log In"),r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{item:!0},r.a.createElement(W.a,{href:"./signup",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(M.a,{mt:8},r.a.createElement(H,null))))}var Y=Object(l.a)((function(e){return{root:{height:"100%"},title:{textAlign:"initial",margin:e.spacing(4,0,2)}}}));var $=function(){var e=Y(),a=new w.a,t=r.a.useState({userId:a.get("userId"),userName:a.get("userName"),userEmail:a.get("userEmail")}),n=Object(i.a)(t,2),o=n[0],c=n[1];return r.a.createElement("div",{className:e.root},r.a.createElement(T,{userData:o,setUserData:c}),r.a.createElement(K,{userData:o,setUserData:c}),";")},Q=t(65),V=Object(Q.a)({palette:{primary:{main:"#424242"},secondary:{main:"#424242"}},themeName:"Tundora Tundora Dog"}),X=t(157);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{theme:V},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[83,1,2]]]);
//# sourceMappingURL=main.1ad5d577.chunk.js.map